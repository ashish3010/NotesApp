(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[856],{15509:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var a=r(95155);r(12115);var s=r(71169),n=r(71116);r(84488);var l=r(51362),o=r(6172),i=r(83903);let c=()=>{let{theme:e,setTheme:t}=(0,l.D)(),r="dark"===e;return(0,a.jsxs)("div",{className:"theme-toggle",children:[(0,a.jsx)("input",{type:"checkbox",id:"toggle",checked:r,onChange:()=>t("light"===e?"dark":"light")}),(0,a.jsxs)("label",{htmlFor:"toggle",className:"switch",children:[(0,a.jsx)("span",{className:"icon",children:r?(0,a.jsx)(i.A,{sx:{color:"var(--text-primary)"}}):(0,a.jsx)(o.A,{sx:{color:"var(--text-primary)"}})}),(0,a.jsx)("span",{className:"slider"})]})]})};r(54975);let d=()=>(0,a.jsx)(s.A,{component:"nav",sx:{backgroundColor:"var(--surface)",width:"100%"},children:(0,a.jsxs)("div",{className:"header-wrapper",children:[(0,a.jsx)("div",{children:(0,a.jsx)(n.A,{variant:"h5",className:"notes-title",children:"Notes"})}),(0,a.jsx)("div",{children:(0,a.jsx)(c,{})})]})})},19981:(e,t,r)=>{Promise.resolve().then(r.bind(r,88484))},54975:()=>{},77832:(e,t,r)=>{"use strict";r.d(t,{A:()=>n,B:()=>s});var a=r(68042);let s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,a.Ay)(e||"")},n=()=>new Date().toLocaleString("en-GB",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1,second:"2-digit"})},84488:()=>{},88484:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>B});var a=r(95155),s=r(15509),n=r(12115),l=r(35695),o=r(11145);let i={display:"flex",justifyContent:"center",alignItems:"center",position:"fixed",top:50,left:0,width:"100vw",height:"calc(100vh - 50px)",background:"rgba(0, 0, 0, 0.7)",zIndex:9999},c={border:"8px solid var(--surface)",borderTop:"8px solid var(--btn-links)",borderRadius:"50%",width:60,height:60,animation:"spin 1s linear infinite"},d=()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("style",{children:"\n@keyframes spin {\n    0% { transform: rotate(0deg);}\n    100% { transform: rotate(360deg);}\n}\n"}),(0,a.jsx)("div",{style:i,children:(0,a.jsx)("div",{style:c})})]});var h=r(90428),u=r(25886),g=r(15198),v=r(51935),x=r(21690),m=r(58005),p=r(80841),f=r(83756),j=r(2574);let y="BOLD",N="ITALIC",S="UNDERLINE",w="SAVE",C="unordered-list-item";var b=r(35297);let k=e=>{let{setEditorState:t,editorState:r,onSaveNote:s}=e,n=()=>""===r.getCurrentContent().getPlainText().trim(),l=(e,a)=>{let l;if(e.preventDefault(),!n())switch(a){case S:case y:case N:t(j.RichUtils.toggleInlineStyle(r,a));break;case w:s();break;case C:t(j.RichUtils.toggleBlockType(r,a));break;default:return}};return(0,a.jsx)("div",{className:"tools-panel",children:(0,a.jsx)("div",{className:"tools-container expanded",children:(0,a.jsxs)("div",{className:"tools-icons",children:[(0,a.jsx)(b.A,{title:"Save",children:(0,a.jsx)("div",{className:"tools",children:(0,a.jsx)(v.A,{sx:{color:"var(--text-primary)"},onMouseDown:e=>l(e,w)})})}),(0,a.jsx)(b.A,{title:"Bold",children:(0,a.jsx)("div",{className:"tools",children:(0,a.jsx)(x.A,{sx:{color:"var(--text-primary)"},onMouseDown:e=>l(e,y)})})}),(0,a.jsx)(b.A,{title:"Italic",children:(0,a.jsx)("div",{className:"tools",children:(0,a.jsx)(m.A,{sx:{color:"var(--text-primary)"},onMouseDown:e=>l(e,N)})})}),(0,a.jsx)(b.A,{title:"Underline",children:(0,a.jsx)("div",{className:"tools",children:(0,a.jsx)(p.A,{sx:{color:"var(--text-primary)"},onMouseDown:e=>l(e,S)})})}),(0,a.jsx)(b.A,{title:"Order",children:(0,a.jsx)("div",{className:"tools",children:(0,a.jsx)(f.A,{sx:{color:"var(--text-primary)"},onMouseDown:e=>l(e,C)})})})]})})})};var A=r(81);r(42153);var D=r(54581),E=r(41101),I=r(7327);let M=e=>{let{tags:t,setTags:r}=e,[s,l]=(0,n.useState)(""),o=e=>{r(t.filter(t=>t!==e))};return(0,a.jsxs)(D.A,{display:"flex",alignItems:"center",flexWrap:"wrap",gap:1,children:[t.map(e=>(0,a.jsx)(E.A,{label:e,style:{backgroundColor:"var(--tags-highlights)",borderRadius:"var(--s)"},sx:{"& .MuiChip-deleteIcon":{color:"var(--black)","&:hover":{color:"var(--black)"}}},onDelete:()=>o(e)},e)),t.length<4&&(0,a.jsx)(I.A,{value:s,onChange:e=>{l(e.target.value)},onKeyDown:e=>{if((" "===e.key||"Spacebar"===e.key||"Space"===e.code)&&t.length<4){let a=s.trim().toUpperCase();a.length>0&&!t.includes(a)&&(r([...t,a]),l("")),e.preventDefault()}if((" "===e.key||"Spacebar"===e.key||"Space"===e.code)&&t.length<4){let a=s.trim().toUpperCase();a.startsWith("#")&&a.length>1&&!t.includes(a)&&(r([...t,a]),l("")),e.preventDefault()}},placeholder:"#hashtag",onBlur:()=>{let e=s.trim().toUpperCase();e.length>0&&!t.includes(e)&&t.length<4&&(r([...t,e]),l(""))},variant:"standard",inputProps:{maxLength:30},sx:{minWidth:100},InputProps:{style:{color:"var(--text-primary)"}}})]})},O=new(r(38851)).M4({apiKey:"AIzaSyB1HqFLxHGACMlUP9Yt5fl-VVe9OEivIrM"}),R=async e=>(await O.models.generateContent({model:"gemini-2.0-flash",contents:e})).text;var T=r(77832);let F=()=>{var e;let t=(0,o.A)("(min-width:601px)"),r=(0,l.useRouter)(),s=(0,n.useRef)(null),i=(0,n.useRef)(null),c=(0,n.useRef)(null),d=(0,h.HA)(e=>e.setNoteDetails),{inputData:v,setInputData:x}=(0,h.wf)(e=>e),[m,p]=(0,n.useState)(""),[f,y]=(0,n.useState)(!1),[N,S]=(0,n.useState)(0),[w,C]=(0,n.useState)(0),[b,D]=(0,n.useState)(""),[E,I]=(0,n.useState)(()=>j.EditorState.createEmpty()),[O,F]=(0,n.useState)([]),[B,L]=(0,n.useState)(!1);(0,n.useEffect)(()=>{if(v){if(v.content){let e=(0,j.convertFromHTML)(v.content),t=j.ContentState.createFromBlockArray(e.contentBlocks,e.entityMap);B||L(!B),I(j.EditorState.createWithContent(t))}else I(j.EditorState.createEmpty());D(v.title||""),F(v.tags||[])}else I(j.EditorState.createEmpty()),D(""),F([])},[v,B]),(0,n.useEffect)(()=>{if(!s.current)return;let e=new ResizeObserver(e=>{for(let t of e)t.target===s.current&&S(t.target.offsetHeight)});return e.observe(s.current),()=>e.disconnect()},[]),(0,n.useEffect)(()=>{if(!i.current)return;let e=new ResizeObserver(e=>{for(let t of e)t.target===i.current&&C(t.target.offsetHeight)});return e.observe(i.current),()=>e.disconnect()},[]);let H=(0,A.SG)({styleToHTML:e=>"BOLD"===e?(0,a.jsx)("strong",{}):"ITALIC"===e?(0,a.jsx)("em",{}):"UNDERLINE"===e?(0,a.jsx)("u",{}):null}),U=()=>{I(j.EditorState.createEmpty()),D(""),F([]),p(""),x(null)},P=async()=>{let e=H(E.getCurrentContent());p(e),y(!0);try{let t=await R("summarise this note and return a html string: ".concat(e)),r=(0,j.convertFromHTML)((null!=t?t:"").replace("```html","").replace("```","")),a=j.ContentState.createFromBlockArray(r.contentBlocks,r.entityMap);I(j.EditorState.createWithContent(a))}catch(e){console.log("Error:",e)}finally{y(!1)}},z=()=>{c.current&&c.current.focus()};return(0,n.useEffect)(()=>{z()},[]),(0,a.jsxs)("div",{className:"card wh100 create-note",children:[(0,a.jsx)(u.A,{ref:s,placeholder:"Your Idea Title...",minRows:1,value:b,onChange:e=>D(e.target.value),maxRows:6,style:{width:"100%",fontSize:"var(--m)",color:"var(--text-primary)",backgroundColor:"var(--background)",border:"none",outline:"none",resize:"none"}}),(0,a.jsx)("div",{className:"space-base"}),(0,a.jsx)(k,{setEditorState:I,editorState:E,onSaveNote:()=>{let e=H(E.getCurrentContent()),a=new Date;d({title:b,id:(null==v?void 0:v.id)||a.getTime(),lastUpdated:(0,T.A)(),tags:O,content:e}),U(),t||r.back()}}),(0,a.jsx)("div",{className:"space-base"}),(0,a.jsx)("div",{ref:i,className:"chip-wrapper",children:(0,a.jsx)(M,{tags:O,setTags:F})}),(0,a.jsx)("div",{className:"space-base"}),(0,a.jsxs)("div",{style:{height:"calc(100% - ".concat(N+w+88,"px)"),overflowY:"scroll"},children:[(0,a.jsx)("div",{style:{minHeight:"calc(100% - ".concat(N+w+88,"px)")},onClick:z,children:(0,a.jsx)(j.Editor,{ref:c,editorState:E,onChange:I,handleKeyCommand:e=>{let t=j.RichUtils.handleKeyCommand(E,e);return t?(I(t),"handled"):"not-handled"},placeholder:"Start writing here..."})}),(0,a.jsx)("div",{className:"space-base"}),(0,a.jsxs)("div",{style:{display:"flex",gap:"var(--s)"},children:[(null==(e=E.getCurrentContent())?void 0:e.getPlainText())&&(0,a.jsx)(g.A,{style:{backgroundColor:"var(--btn-links)",color:"var(--background)",opacity:f?.8:1,width:120},disabled:f,loading:f,onClick:P,children:f?"":"Summarise"}),m&&(0,a.jsx)(g.A,{style:{backgroundColor:"var(--btn-links)",color:"var(--background)"},onClick:()=>{console.log(m,"currentNote");let e=(0,j.convertFromHTML)(m),t=j.ContentState.createFromBlockArray(e.contentBlocks,e.entityMap);I(j.EditorState.createWithContent(t))},children:"Show original"})]})]})]})},B=()=>{let e=(0,o.A)("(min-width:601px)"),t=(0,h.A1)(e=>e.isNavigationFlag),r=(0,l.useRouter)();return((0,n.useEffect)(()=>{(e||!t)&&r.replace("/")},[e,r,t]),e||!t)?(0,a.jsx)(d,{}):(0,a.jsxs)("div",{children:[(0,a.jsx)(s.A,{}),(0,a.jsx)("div",{style:{marginTop:"56px",width:"100%",height:"calc(100vh - 56px)",overflow:"hidden"},children:(0,a.jsx)(F,{})})]})}},90428:(e,t,r)=>{"use strict";r.d(t,{A1:()=>s,HA:()=>o,w9:()=>l,wf:()=>n});var a=r(65453);let s=(0,a.v)(e=>({isNavigationFlag:!1,setNavigationFlag:t=>e(()=>({isNavigationFlag:t}))})),n=(0,a.v)(e=>({isCreateModeOn:!1,inputData:{},setInputData:t=>e({inputData:t}),setCreateModeOn:t=>e(()=>({isCreateModeOn:t}))})),l=(0,a.v)(e=>({isPreviewModeOn:!1,noteData:{},setNoteData:t=>e({noteData:t}),setPreviewModeOn:t=>e(()=>({isPreviewModeOn:t}))})),o=(0,a.v)(e=>({noteDetails:[],filteredNotes:[],setNoteDetails:t=>e(e=>{if(!e.noteDetails.find(e=>e.id===t.id))return localStorage.setItem("notes",JSON.stringify([t,...e.noteDetails])),{noteDetails:[t,...e.noteDetails]};{let r=e.noteDetails.filter(e=>e.id!==t.id);return localStorage.setItem("notes",JSON.stringify([t,...r])),{noteDetails:[t,...r]}}}),onRemoveNote:t=>e(e=>{let r=e.noteDetails.filter(e=>e.id!==t);return localStorage.setItem("notes",JSON.stringify(r)),{noteDetails:r}}),getNotesFromLocalStorage:()=>e(()=>{let e=localStorage.getItem("notes");return e?{noteDetails:JSON.parse(e)}:{noteDetails:[]}}),clearNotes:()=>e(()=>(localStorage.removeItem("notes"),{noteDetails:[]})),setFilteredNotes:t=>e(()=>({filteredNotes:t}))}))}},e=>{var t=t=>e(e.s=t);e.O(0,[176,480,798,690,390,521,894,441,684,358],()=>t(19981)),_N_E=e.O()}]);