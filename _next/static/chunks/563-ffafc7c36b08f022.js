(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[563],{15509:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var a=r(95155);r(12115);var s=r(71169),n=r(71116);r(84488);var l=r(51362),o=r(6172),i=r(83903);let c=()=>{let{theme:e,setTheme:t}=(0,l.D)(),r="dark"===e;return(0,a.jsxs)("div",{className:"theme-toggle",children:[(0,a.jsx)("input",{type:"checkbox",id:"toggle",checked:r,onChange:()=>t("light"===e?"dark":"light")}),(0,a.jsxs)("label",{htmlFor:"toggle",className:"switch",children:[(0,a.jsx)("span",{className:"icon",children:r?(0,a.jsx)(i.A,{sx:{color:"var(--text-primary)"}}):(0,a.jsx)(o.A,{sx:{color:"var(--text-primary)"}})}),(0,a.jsx)("span",{className:"slider"})]})]})};r(54975);let d=()=>(0,a.jsx)(s.A,{component:"nav",sx:{backgroundColor:"var(--surface)",width:"100%"},children:(0,a.jsxs)("div",{className:"header-wrapper",children:[(0,a.jsx)("div",{children:(0,a.jsx)(n.A,{variant:"h5",className:"notes-title",children:"Notes"})}),(0,a.jsx)("div",{children:(0,a.jsx)(c,{})})]})})},41230:(e,t,r)=>{"use strict";r.d(t,{A:()=>M});var a=r(95155),s=r(12115),n=r(11145),l=r(25886),o=r(15198),i=r(51935),c=r(21690),d=r(58005),u=r(80841),h=r(83756),g=r(2574);let v="BOLD",x="ITALIC",m="UNDERLINE",p="SAVE",f="unordered-list-item";var y=r(35297);let j=e=>{let{setEditorState:t,editorState:r,onSaveNote:s}=e,n=()=>""===r.getCurrentContent().getPlainText().trim(),l=(e,a)=>{let l;if(e.preventDefault(),!n())switch(a){case m:case v:case x:t(g.RichUtils.toggleInlineStyle(r,a));break;case p:s();break;case f:t(g.RichUtils.toggleBlockType(r,a));break;default:return}};return(0,a.jsx)("div",{className:"tools-panel",children:(0,a.jsx)("div",{className:"tools-container expanded",children:(0,a.jsxs)("div",{className:"tools-icons",children:[(0,a.jsx)(y.A,{title:"Save",children:(0,a.jsx)("div",{className:"tools",children:(0,a.jsx)(i.A,{sx:{color:"var(--text-primary)"},onMouseDown:e=>l(e,p)})})}),(0,a.jsx)(y.A,{title:"Bold",children:(0,a.jsx)("div",{className:"tools",children:(0,a.jsx)(c.A,{sx:{color:"var(--text-primary)"},onMouseDown:e=>l(e,v)})})}),(0,a.jsx)(y.A,{title:"Italic",children:(0,a.jsx)("div",{className:"tools",children:(0,a.jsx)(d.A,{sx:{color:"var(--text-primary)"},onMouseDown:e=>l(e,x)})})}),(0,a.jsx)(y.A,{title:"Underline",children:(0,a.jsx)("div",{className:"tools",children:(0,a.jsx)(u.A,{sx:{color:"var(--text-primary)"},onMouseDown:e=>l(e,m)})})}),(0,a.jsx)(y.A,{title:"Order",children:(0,a.jsx)("div",{className:"tools",children:(0,a.jsx)(h.A,{sx:{color:"var(--text-primary)"},onMouseDown:e=>l(e,f)})})})]})})})};var S=r(81);r(42153);var N=r(90428),C=r(54581),k=r(41101),b=r(23414);let w=e=>{let{tags:t,setTags:r}=e,[n,l]=(0,s.useState)(""),o=e=>{r(t.filter(t=>t!==e))};return(0,a.jsxs)(C.A,{display:"flex",alignItems:"center",flexWrap:"wrap",gap:1,children:[t.map(e=>(0,a.jsx)(k.A,{label:e,style:{backgroundColor:"var(--tags-highlights)",borderRadius:"var(--s)"},sx:{"& .MuiChip-deleteIcon":{color:"var(--black)","&:hover":{color:"var(--black)"}}},onDelete:()=>o(e)},e)),t.length<4&&(0,a.jsx)(b.A,{value:n,onChange:e=>{l(e.target.value)},onKeyDown:e=>{if((" "===e.key||"Spacebar"===e.key||"Space"===e.code)&&t.length<4){let a=n.trim().toUpperCase();a.length>0&&!t.includes(a)&&(r([...t,a]),l("")),e.preventDefault()}if((" "===e.key||"Spacebar"===e.key||"Space"===e.code)&&t.length<4){let a=n.trim().toUpperCase();a.startsWith("#")&&a.length>1&&!t.includes(a)&&(r([...t,a]),l("")),e.preventDefault()}},placeholder:"#hashtag",onBlur:()=>{let e=n.trim().toUpperCase();e.length>0&&!t.includes(e)&&t.length<4&&(r([...t,e]),l(""))},variant:"standard",inputProps:{maxLength:30},sx:{minWidth:100},InputProps:{style:{color:"var(--text-primary)"}}})]})},A=new(r(38851)).M4({apiKey:"AIzaSyB1HqFLxHGACMlUP9Yt5fl-VVe9OEivIrM"}),D=async e=>(await A.models.generateContent({model:"gemini-2.0-flash",contents:e})).text;var E=r(77832),I=r(35695);let M=()=>{var e;let t=(0,n.A)("(min-width:601px)"),r=(0,I.useRouter)(),i=(0,s.useRef)(null),c=(0,s.useRef)(null),d=(0,s.useRef)(null),u=(0,N.HA)(e=>e.setNoteDetails),{inputData:h,setInputData:v}=(0,N.wf)(e=>e),[x,m]=(0,s.useState)(""),[p,f]=(0,s.useState)(!1),[y,C]=(0,s.useState)(0),[k,b]=(0,s.useState)(0),[A,M]=(0,s.useState)(""),[O,R]=(0,s.useState)(()=>g.EditorState.createEmpty()),[T,B]=(0,s.useState)([]),[F,L]=(0,s.useState)(!1);(0,s.useEffect)(()=>{if(h){if(h.content){let e=(0,g.convertFromHTML)(h.content),t=g.ContentState.createFromBlockArray(e.contentBlocks,e.entityMap);F||L(!F),R(g.EditorState.createWithContent(t))}else R(g.EditorState.createEmpty());M(h.title||""),B(h.tags||[])}else R(g.EditorState.createEmpty()),M(""),B([])},[h,F]),(0,s.useEffect)(()=>{if(!i.current)return;let e=new ResizeObserver(e=>{for(let t of e)t.target===i.current&&C(t.target.offsetHeight)});return e.observe(i.current),()=>e.disconnect()},[]),(0,s.useEffect)(()=>{if(!c.current)return;let e=new ResizeObserver(e=>{for(let t of e)t.target===c.current&&b(t.target.offsetHeight)});return e.observe(c.current),()=>e.disconnect()},[]);let H=(0,S.SG)({styleToHTML:e=>"BOLD"===e?(0,a.jsx)("strong",{}):"ITALIC"===e?(0,a.jsx)("em",{}):"UNDERLINE"===e?(0,a.jsx)("u",{}):null}),U=()=>{R(g.EditorState.createEmpty()),M(""),B([]),m(""),v(null)},P=async()=>{let e=H(O.getCurrentContent());m(e),f(!0);try{let t=await D("summarise this note and return a html string: ".concat(e)),r=(0,g.convertFromHTML)((null!=t?t:"").replace("```html","").replace("```","")),a=g.ContentState.createFromBlockArray(r.contentBlocks,r.entityMap);R(g.EditorState.createWithContent(a))}catch(e){console.log("Error:",e)}finally{f(!1)}},z=()=>{d.current&&d.current.focus()};return(0,s.useEffect)(()=>{z()},[]),(0,a.jsxs)("div",{className:"card wh100 create-note",children:[(0,a.jsx)(l.A,{ref:i,placeholder:"Your Idea Title...",minRows:1,value:A,onChange:e=>M(e.target.value),maxRows:6,style:{width:"100%",fontSize:"var(--m)",color:"var(--text-primary)",backgroundColor:"var(--background)",border:"none",outline:"none",resize:"none"}}),(0,a.jsx)("div",{className:"space-base"}),(0,a.jsx)(j,{setEditorState:R,editorState:O,onSaveNote:()=>{let e=H(O.getCurrentContent()),a=new Date;u({title:A,id:(null==h?void 0:h.id)||a.getTime(),lastUpdated:(0,E.A)(),tags:T,content:e}),U(),t||r.back()}}),(0,a.jsx)("div",{className:"space-base"}),(0,a.jsx)("div",{ref:c,className:"chip-wrapper",children:(0,a.jsx)(w,{tags:T,setTags:B})}),(0,a.jsx)("div",{className:"space-base"}),(0,a.jsxs)("div",{style:{height:"calc(100% - ".concat(y+k+88,"px)"),overflowY:"scroll"},children:[(0,a.jsx)("div",{style:{minHeight:"calc(100% - ".concat(y+k+88,"px)")},onClick:z,children:(0,a.jsx)(g.Editor,{ref:d,editorState:O,onChange:R,handleKeyCommand:e=>{let t=g.RichUtils.handleKeyCommand(O,e);return t?(R(t),"handled"):"not-handled"},placeholder:"Start writing here..."})}),(0,a.jsx)("div",{className:"space-base"}),(0,a.jsxs)("div",{style:{display:"flex",gap:"var(--s)"},children:[(null==(e=O.getCurrentContent())?void 0:e.getPlainText())&&(0,a.jsx)(o.A,{style:{backgroundColor:"var(--btn-links)",color:"var(--background)",opacity:p?.8:1,width:120},disabled:p,loading:p,onClick:P,children:p?"":"Summarise"}),x&&(0,a.jsx)(o.A,{style:{backgroundColor:"var(--btn-links)",color:"var(--background)"},onClick:()=>{console.log(x,"currentNote");let e=(0,g.convertFromHTML)(x),t=g.ContentState.createFromBlockArray(e.contentBlocks,e.entityMap);R(g.EditorState.createWithContent(t))},children:"Show original"})]})]})]})}},54975:()=>{},77832:(e,t,r)=>{"use strict";r.d(t,{A:()=>n,B:()=>s});var a=r(68042);let s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,a.Ay)(e||"")},n=()=>new Date().toLocaleString("en-GB",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1,second:"2-digit"})},84488:()=>{},90428:(e,t,r)=>{"use strict";r.d(t,{A1:()=>s,HA:()=>o,w9:()=>l,wf:()=>n});var a=r(65453);let s=(0,a.v)(e=>({isNavigationFlag:!1,setNavigationFlag:t=>e(()=>({isNavigationFlag:t}))})),n=(0,a.v)(e=>({isCreateModeOn:!1,inputData:{},setInputData:t=>e({inputData:t}),setCreateModeOn:t=>e(()=>({isCreateModeOn:t}))})),l=(0,a.v)(e=>({isPreviewModeOn:!1,noteData:{},setNoteData:t=>e({noteData:t}),setPreviewModeOn:t=>e(()=>({isPreviewModeOn:t}))})),o=(0,a.v)(e=>({noteDetails:[],filteredNotes:[],setNoteDetails:t=>e(e=>{if(!e.noteDetails.find(e=>e.id===t.id))return localStorage.setItem("notes",JSON.stringify([t,...e.noteDetails])),{noteDetails:[t,...e.noteDetails]};{let r=e.noteDetails.filter(e=>e.id!==t.id);return localStorage.setItem("notes",JSON.stringify([t,...r])),{noteDetails:[t,...r]}}}),onRemoveNote:t=>e(e=>{let r=e.noteDetails.filter(e=>e.id!==t);return localStorage.setItem("notes",JSON.stringify(r)),{noteDetails:r}}),getNotesFromLocalStorage:()=>e(()=>{let e=localStorage.getItem("notes");return e?{noteDetails:JSON.parse(e)}:{noteDetails:[]}}),clearNotes:()=>e(()=>(localStorage.removeItem("notes"),{noteDetails:[]})),setFilteredNotes:t=>e(()=>({filteredNotes:t}))}))},99778:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var a=r(95155);r(12115);let s={display:"flex",justifyContent:"center",alignItems:"center",position:"fixed",top:50,left:0,width:"100vw",height:"calc(100vh - 50px)",background:"rgba(0, 0, 0, 0.7)",zIndex:9999},n={border:"8px solid var(--surface)",borderTop:"8px solid var(--btn-links)",borderRadius:"50%",width:60,height:60,animation:"spin 1s linear infinite"},l=()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("style",{children:"\n@keyframes spin {\n    0% { transform: rotate(0deg);}\n    100% { transform: rotate(360deg);}\n}\n"}),(0,a.jsx)("div",{style:s,children:(0,a.jsx)("div",{style:n})})]})}}]);